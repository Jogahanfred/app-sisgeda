<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{layout}">

<th:block layout:fragment="pagetitle"> 
	<div th:replace="partials/title-meta :: title-meta('Catálogo de Escuadrones')"></div>
</th:block>

<head> 
	<link href="/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div layout:fragment="content">
		<div th:replace="partials/page-title :: page-title('Catálogo de Escuadrones','Administración')"></div>

		<div class="row"> 
			<div class="col-lg-12">
				<div class="card">
					<div class="card-header">
						<div class="d-flex align-items-center flex-wrap gap-2">
							<div class="flex-grow-1">
								<button class="btn btn-info add-btn" 
								        data-bs-toggle="modal" 
								        data-bs-target="#mdEscuadron">
									 <i class="ri-add-fill me-1 align-bottom"></i> 
								 Agregar Escuadrón
								</button>
							</div>
							<div class="flex-shrink-0">
								<div class="hstack text-nowrap gap-2">
									<button class="btn btn-soft-danger shadow-none" 
											id="remove-actions" 
											onClick="eliminarMultiple()">
										<i class="ri-delete-bin-2-line"></i>
									</button>
									
									<button type="button" 
											class="btn btn-primary w-100"
											onclick="filtrarInformacion();"> 
											<i class="ri-equalizer-fill me-2 align-bottom"></i> Filtrar
									</button> 
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--end col-->
			<div class="col-xxl-9">
				<div class="card" id="listadoEscuadrones">
					<div class="card-header">
						<div class="row g-2">
							
							<div class="col-md-4">
								<div class="search-box">
									<input type="text" class="form-control search" placeholder="Buscar por nombre...">
									<i class="ri-search-line search-icon"></i>
								</div>
							</div>  
							
							<div class="col-md-auto ms-auto">
								<div class="d-flex align-items-center gap-2">
									<span class="text-muted">Buscar por: </span>
									<select class="form-control mb-0" 
										    data-choices 
										    data-choices-search-false 
										    id="cboBusquedaUnidad">
										  <option th:each="selector : ${selectorUnidad}"
                            					  th:value="${selector.value}"
											      th:text="${selector.text}"
											      th:selected="${selector.selected}">
										  </option>
									</select>
								</div>
							</div>
							
						</div>
					</div>
					<div class="card-body">
						<div class="table-responsive table-card">
							
							<div id="loader" class="my-3 text-center">
								<div class="spinner-border text-primary avatar-sm m-2" role="status">
									<span class="visually-hidden">Cargando...</span>
								</div> 
							</div> 
							
							<div id="contentTable" style="display: none;">
								<table class="table align-middle mb-3" id="tblEscuadron">
									<thead class="table-light text-muted">
										<tr>
											<th scope="col" style="width: 50px;">
												<div class="form-check">
													<input class="form-check-input" type="checkbox" id="checkAll" value="option">
												</div>
											</th>
											<th class="sort" data-sort="id_escuadron" scope="col">Descripción</th>
											<th class="sort" data-sort="fl_bloqueado">Visión</th> 
											<th class="sort" data-sort="fl_estado" scope="col">Estado</th>
											<th class="sort" data-sort="id_unidad" scope="col">Unidad</th>
											<th scope="col">Acción</th>
										</tr>
									</thead>
									<tbody class="list form-check-all">
										<tr>
											<th scope="row">
												<div class="form-check">
													<input class="form-check-input" type="checkbox" name="chk_child" value="option1">
												</div>
											</th>
											<td class="id_escuadron" style="display:none;"><a href="javascript:void(0);" class="fw-medium link-primary">#VZ001</a></td>
											<td>
												<div class="d-flex align-items-center">
													<div class="flex-shrink-0 me-3">
														<div class="avatar-sm bg-light rounded p-1">
															<img src="assets/images/brands/dribbble.png" alt="" class="img-fluid d-block image_src">
														</div>
													</div>
													 <div class="flex-grow-1">
											            <h5 class="fs-14 mb-1"><a href="#" class="text-dark"><span class="tx_descripcion"></span></a></h5>
											            <p class="text-muted mb-0">Sigla : <span class="fw-medium co_sigla"></span></p>
											        </div> 
												</div>
											</td>
											<td class="fl_bloqueado">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td> 
											<td class="fl_estado">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td class="tx_descripcion_unidad">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td>
												<ul class="list-inline hstack gap-2 mb-0">
												 
													<li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Vista Previa">
														<a href="javascript:void(0);" class="view-item-btn"><i class="ri-eye-fill align-bottom text-muted"></i></a>
													</li>
													<li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Editar">
														<a class="edit-item-btn" href="#mdEscuadron" data-bs-toggle="modal"><i class="ri-pencil-fill align-bottom text-muted"></i></a>
													</li>
													<li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Eliminar">
														<a class="remove-item-btn" data-bs-toggle="modal" href="#mdEliminarRegistro">
															<i class="ri-delete-bin-fill align-bottom text-muted"></i>
														</a>
													</li>
												</ul>
											</td>
										</tr>

									</tbody>
								</table> 
								
							</div>
							
							<div class="noresult" style="display: none">
								<div class="text-center">
									<lord-icon src="https://cdn.lordicon.com/msoeawqm.json" trigger="loop"
										colors="primary:#121331,secondary:#08a88a" style="width:75px;height:75px">
									</lord-icon>
									<h5 class="mt-2">Disculpa! No se encontraron datos</h5>
									<p class="text-muted mb-0">
										La información consultada no ha sido encontrada en nuestra base de datos.
									</p>
								</div>
							</div>
							
						</div>
							
						<div class="d-flex justify-content-end mt-3">
							<div class="pagination-wrap hstack gap-2">
								<a class="page-item pagination-prev disabled" href="#">
									Anterior
								</a>
								<ul class="pagination listjs-pagination mb-0"></ul>
								<a class="page-item pagination-next" href="#">
									Siguiente
								</a>
							</div>
						</div>
						
						<div class="modal fade" id="mdEscuadron" tabindex="-1"  aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered modal-lg">
								<div class="modal-content border-0">
							
									<div class="modal-header bg-soft-info p-3">
										<h5 class="modal-title" id="mdTitulo"></h5>
										<button type="button" 
												class="btn-close" 
												data-bs-dismiss="modal" 
												aria-label="Close" 
												id="close-modal">
										</button>
									</div>
							
									<form id="frmEscuadron" class="needs-validation tablelist-form" autocomplete="off" novalidate>
										<div class="modal-body">
											<input type="hidden" id="idEscuadron-field" /> 
											<input type="hidden" id="txRutaLogo-field"/> 
											<input type="hidden" id="flEstado-field"/> 
											
											<div class="row g-3">
												<div class="col-md-4">
													<div class="text-center">
														<div class="position-relative d-inline-block">
															
															
															<div class="position-absolute bottom-0 end-0">
																<label for="escuadron-logo-input" class="mb-0" data-bs-toggle="tooltip" data-bs-placement="right" title="Seleccionar Logo">
																	<div class="avatar-xs cursor-pointer">
																		<div class="avatar-title bg-light border rounded-circle text-muted">
																			<i class="ri-image-fill"></i>
																		</div>
																	</div>
																</label>
																
																<input class="form-control d-none" value="" id="escuadron-logo-input" type="file" accept="image/png, image/gif, image/jpeg">
															</div>
															
															
															<div class="avatar-lg p-1">
																<div class="avatar-title bg-light rounded-circle">
																	<img src="assets/images/users/multi-user.jpg" id="escuadronlogo-img" class="avatar-md rounded-circle object-cover" />
																</div>
															</div>
															
															
														</div>
														<h5 class="fs-13 mt-3">Logo Escuadrón</h5>
													</div>
												</div>
												<div class="col-md-8">													
													<div class="col-md-4">
														<div>
															<label for="coSigla-field" class="form-label">Sigla</label>
															<input type="text" id="coSigla-field" class="form-control" placeholder="Ingrese Sigla" maxlength="8" required />
														    <div class="invalid-feedback">La sigla es requerida.</div>
														    <div class="valid-feedback">Sigla válida!</div>
														</div>
													</div> 
													
													<div class="col-md-12 mt-3">
														<div>
															<label for="txDescripcion-field" class="form-label">Descripción</label>
															<input type="text" id="txDescripcion-field" class="form-control" placeholder="Ingrese Descripción" maxlength="70" required />
														    <div class="invalid-feedback">La descripción es requerida.</div>
														    <div class="valid-feedback">Descripción válida!</div>
														</div>
													</div>
												</div>
												
												<div class="col-lg-8"> 
														<label for="idUnidad-field" 
														       class="form-label">
														       Unidad
														 </label>
														 <select class="form-control mb-0" 
															     data-choices 
															     data-choices-search-false 
															     id="idUnidad-field">
															   <option th:each="selector : ${selectorMdUnidad}"
					                            				 	   th:value="${selector.value}"
																       th:text="${selector.text}">
															   </option>
														 </select>
												</div>
 
												<div id="content-flBloqueado-field"  class="col-lg-4" style="display: none;">
													<label for="flBloqueado-field" class="form-label">Permiso</label>
													<select class="form-control" 
													        data-choices 
													        data-choices-search-false
														    name="flBloqueado-field" 
														    id="flBloqueado-field">
														<option value="">Permiso</option>
														<option value="Permitido">Permitido</option>
														<option value="Bloqueado">Bloqueado</option>
													</select> 
												</div>  
												 
												<div class="col-lg-12"> 
													<div>
													    <label for="txInformacion-field" class="form-label">Información</label>
													    <textarea type="text" class="form-control" id="txInformacion-field" rows="2" placeholder="Ingrese Información" maxlength="200" style="resize: none;"></textarea> 					
													    <div class="valid-feedback">Información válida!</div>								
													</div> 
												</div> 
											</div>
										</div>
										<div class="modal-footer">
											<div class="hstack gap-2 justify-content-end">
												<button type="button" class="btn btn-light" data-bs-dismiss="modal">Cerrar</button>
												<button type="submit" class="btn btn-success" id="add-btn"></button> 
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
						<!--end add modal-->

							<div class="modal fade zoomIn" id="mdEliminarRegistro" tabindex="-1" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" 
											    class="btn-close" 
											    id="deleteRecord-close"
												data-bs-dismiss="modal" 
												aria-label="Close">
										</button>
									</div>
									<div class="modal-body">
										<div class="mt-2 text-center">
											<lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop"
												colors="primary:#f7b84b,secondary:#f06548"
												style="width:100px;height:100px"></lord-icon>
											<div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
												<h4>¿Estas seguro?</h4>
												<p class="text-muted mx-4 mb-0">¿Estas seguro de eliminar este registro?
												</p>
											</div>
										</div>
										<div class="d-flex gap-2 justify-content-center mt-4 mb-2">
											<button type="button" class="btn w-sm btn-light"
												data-bs-dismiss="modal">Cerrar</button>
											<button type="button" class="btn w-sm btn-danger" id="eliminar-registro">Si,
												Eliminar!</button>
										</div>
									</div>
								</div>
							</div>
						</div> 
						<!--end delete modal -->

					</div>
				</div>
				<!--end card-->
			</div>
			
			<!--end col-->
			<div class="col-xxl-3">
				<div class="card" id="company-view-detail">
					<div class="card-body text-center">
						<div class="position-relative d-inline-block">
							<div class="avatar-md">
								<div class="avatar-title bg-light rounded-circle shadow">
									<img src="assets/images/users/multi-user.jpg" alt="" class="avatar-sm rounded-circle object-cover">
								</div>
							</div>
						</div>
						<h5 class="mt-3 mb-1 placeholder-glow">
							<span class="placeholder placeholder-sm col-3 bg-info" style="border-radius: 1rem;"></span>
						</h5>
						<p class="text-muted placeholder-glow">
							<span class="placeholder col-4 bg-primary" style="border-radius: 1rem;"></span>
						</p>

						<ul class="list-inline mb-0">
							<li class="list-inline-item avatar-xs">
								<a href="javascript:void(0);" class="avatar-title bg-soft-success text-success fs-15 rounded">
									<i class="ri-global-line"></i>
								</a>
							</li>
							<li class="list-inline-item avatar-xs">
								<a href="javascript:void(0);" class="avatar-title bg-soft-danger text-danger fs-15 rounded">
									<i class="ri-mail-line"></i>
								</a>
							</li>
							<li class="list-inline-item avatar-xs">
								<a href="javascript:void(0);" class="avatar-title bg-soft-warning text-warning fs-15 rounded">
									<i class="ri-question-answer-line"></i>
								</a>
							</li>
						</ul>
					</div>
					<div class="card-body">
						<h6 class="text-muted text-uppercase fw-semibold mb-3">Información</h6>
						<p class="text-muted mb-4 placeholder-glow">
							<span class="placeholder col-7"></span>
					        <span class="placeholder col-8"></span>
					        <span class="placeholder col-6"></span>
					        <span class="placeholder col-5"></span>
						</p>
						<div class="table-responsive table-card">
							<table class="table table-borderless mb-0">
								<tbody>
								 
									<tr>
										<td class="fw-medium" scope="row">Unidad</td>
										<td class="placeholder-glow">							
											<span class="placeholder placeholder-sm col-12 bg-primary" style="border-radius: 1rem;"></span>
										</td>
									</tr> 
									<tr>
										<td class="fw-medium" scope="row">Permiso</td> 
										<td class="placeholder-glow">							
											<span class="placeholder placeholder-sm col-12 bg-primary" style="border-radius: 1rem;"></span>
										</td>
									</tr>
									<tr>
										<td class="fw-medium" scope="row">Estado</td>
										<td class="placeholder-glow">							
											<span class="placeholder placeholder-sm col-12 bg-primary" style="border-radius: 1rem;"></span>
										</td>
									</tr>
									
							</tbody>
							</table>
						</div>
					</div>
				</div>
				<!--end card-->
			</div>
			<!--end col-->
		</div>
		<!--end row-->
	</div>


	<th:block layout:fragment="modal">
	</th:block>

	<th:block layout:fragment="pagejs"> 
		<!-- list.js min js -->
		<script src="/assets/libs/list.js/list.min.js"></script>
		<script src="/assets/libs/list.pagination.js/list.pagination.min.js"></script>

		<script src="/assets/js/pages/adm-escuadron.init.js"></script>

		<!-- Sweet Alerts js -->
		<script src="/assets/libs/sweetalert2/sweetalert2.min.js"></script>
		 
		<!-- Notifications js -->
		<script src="/assets/js/notifications.js"></script>
	</th:block> 
	
</body>

</html>