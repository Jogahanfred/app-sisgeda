<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout}">

<th:block layout:fragment="pagetitle"> 
	<div th:replace="partials/title-meta :: title-meta('Maniobras')"></div>
</th:block>

<head> 
	<link href="/assets/libs/sweetalert2/sweetalert2.min.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div layout:fragment="content">
		<div th:replace="partials/page-title :: page-title('Catálogo de Maniobras','Gestión')"></div>
		<div class="row">
			<div class="col-lg-12">
				<div class="card" id="listadoManiobras">
					<div class="card-header border-bottom-dashed">

						<div class="row g-4 align-items-center">
							<div class="col-sm">
								<div>
									<h5 class="card-title mb-0">Resumen de Maniobras</h5>
								</div>
							</div>
							<div class="col-sm-auto">
								<div class="d-flex flex-wrap align-items-start gap-2">
									
									<button class="btn btn-soft-danger" 
									        id="remove-actions"
										    onClick="eliminarMultiple()">
								    	<i class="ri-delete-bin-2-line"></i>
								    </button>
									
									<button type="button" 
									        class="btn btn-success add-btn" 
									        data-bs-toggle="modal"
											id="create-btn" 
											data-bs-target="#mdManiobra">
										<i class="ri-add-line align-bottom me-1"></i> Agregar Maniobra
									</button> 
								</div>
							</div>
						</div>
					</div>
					<div class="card-body border-bottom-dashed border-bottom">
						<form>
							<div class="row g-3">
								
								<div class="col-xl-4">
									<div class="search-box">
										<input type="text" 
											   class="form-control search"
											   placeholder="Buscar por Nombre, Estado...">
										<i class="ri-search-line search-icon"></i>
									</div>
								</div> 
								
								<div class="col-xl-8">
									<div class="row g-3">
										
										<div class="col-sm-3">
											<div>
												<select class="form-control" 
												        data-plugin="choices" 
												        data-choices
														data-choices-search-false 
														name="choices-single-default"
														id="cboEstado">
													<option value="">Estado</option>
													<option value="all" selected>Todos</option>
													<option value="Activo">Activo</option>
													<option value="Inactivo">Inactivo</option>
												</select>
											</div>
										</div> 
										<div class="col-sm-3">
											<div> 
												<select class="form-control" 
												        data-plugin="choices" 
												        data-choices
														data-choices-search-false 
														name="choices-single-default"
														id="cboBusquedaEscuadron">
													<option th:each="selector : ${selectorEscuadron}"
			                            					th:value="${selector.value}"
														    th:text="${selector.text}">
													</option>
												</select>
											</div>
										</div> 
										
										<div class="col-sm-3">
											<div> 
												<select class="form-control" 
												        data-plugin="choices" 
												        data-choices
														data-choices-search-false 
														name="choices-single-default"
														id="cboBusquedaOperacion">
													<option value="">Operación</option>
												</select>
											</div>
										</div> 
										
										<div class="col-sm-3">
											<div>
												<button type="button" 
													    class="btn btn-primary w-100"
														onclick="filtrarInformacion();"> 
														<i class="ri-equalizer-fill me-2 align-bottom"></i> Filtrar
												</button>
											</div>
										</div> 
									</div>
								</div>
							</div>
						</form>
					</div>
					<div class="card-body">
						<div>
							<div class="table-responsive table-card mb-1">
								<table class="table align-middle" id="tblFlota">
									<thead class="table-light text-muted">
										<tr>
											<th scope="col" style="width: 50px;">
												<div class="form-check">
													<input class="form-check-input" type="checkbox" id="checkAll" value="option">
												</div>
											</th>
 
											<th class="sort" data-sort="tx_descripcion_operacion">Operación</th>
											<th class="sort" data-sort="tx_descripcion_banco_maniobra">Maniobra</th>
											<th class="sort" data-sort="fl_bloqueado">Visión</th>
											<th class="sort" data-sort="fl_estado">Estado</th>
											<th class="sort" data-sort="action">Accion</th>
										</tr>
									</thead>
									<tbody class="list form-check-all">
										<tr>
											<th scope="row">
												<div class="form-check">
													<input class="form-check-input" 
														   type="checkbox" 
														   name="chk_child"
														   value="option1">
												</div>
											</th>
											<td class="id_maniobra" style="display:none;"><a href="javascript:void(0);"
													class="fw-medium link-primary">#VZ2101</a></td> 
											<td class="fw-medium link-primary tx_descripcion_operacion">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td class="tx_descripcion_banco_maniobra">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td class="fl_bloqueado">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td class="fl_estado">
												<p class="card-text placeholder-glow ">
													<span class="placeholder col-12 bg-info" style="border-radius: 1rem;"></span>
												</p>
											</td>
											<td>
												<ul class="list-inline hstack gap-2 mb-0">
													<li class="list-inline-item edit" 
														data-bs-toggle="tooltip"
														data-bs-trigger="hover" 
														data-bs-placement="top" 
														title="Editar">
														<a href="#mdManiobra" data-bs-toggle="modal" class="text-primary d-inline-block edit-item-btn">
															<i class="ri-pencil-fill fs-16"></i>
														</a>
													</li>
													<li class="list-inline-item" 
														data-bs-toggle="tooltip"
														data-bs-trigger="hover" 
														data-bs-placement="top"
														title="Eliminar">
														<a class="text-danger d-inline-block remove-item-btn" data-bs-toggle="modal" href="#mdEliminarRegistro">
															<i class="ri-delete-bin-5-fill fs-16"></i>
														</a>
													</li>
												</ul>
											</td>
										</tr>
									</tbody>
								</table>
								<div class="noresult" style="display: none">
									<div class="text-center">
										<lord-icon src="https://cdn.lordicon.com/msoeawqm.json" trigger="loop"
											colors="primary:#121331,secondary:#08a88a" style="width:75px;height:75px">
										</lord-icon>
										<h5 class="mt-2">Disculpa! No se encontraron datos</h5>
										<p class="text-muted mb-0">
											La información consultada no ha sido encontrada en nuestra base de datos.
										</p>
									</div>
								</div>
							</div>
							<div class="d-flex justify-content-end">
								<div class="pagination-wrap hstack gap-2">
									<a class="page-item pagination-prev disabled" href="#">
										Anterior
									</a>
									<ul class="pagination listjs-pagination mb-0"></ul>
									<a class="page-item pagination-next" href="#">
										Siguiente
									</a>
								</div>
							</div>
						</div>
						
						<div class="modal fade" id="mdManiobra" tabindex="-1" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered">
								<div class="modal-content">
									
									<div class="modal-header bg-soft-warning p-3">
										<h5 class="modal-title" id="mdTitulo"></h5>
										<button type="button" 
												class="btn-close" 
												data-bs-dismiss="modal"
												aria-label="Close" 
												id="close-modal">
										</button>
									</div>
									
									<form class="needs-validation tablelist-form" autocomplete="off" novalidate>
										<div class="modal-body">
											<input id="idManiobra-field" hidden/>  
											 
											<div class="row mb-3">
												<div class="col-md-6">													
													<label for="idEscuadron-field" 
												  	       class="form-label">
													      Escuadrón
													</label>
													<select class="form-control mb-0" 
													        data-choices 
														    data-choices-search-false 
														    id="idEscuadron-field">
														<option th:each="selector : ${selectorMdEscuadron}"
							                          	   	    th:value="${selector.value}"
																th:text="${selector.text}">
														   </option>
													</select>
												</div>
												<div id="content-flBloqueado-field" class="col-md-6">									
													<label for="flBloqueado-field" class="form-label">Permiso</label>
													<select class="form-control" data-choices data-choices-search-false
															name="flBloqueado-field" id="flBloqueado-field">
														<option value="">Permiso</option>
														<option value="Permitido">Permitido</option>
														<option value="Bloqueado">Bloqueado</option>
													</select>
												</div>
											</div> 
											
											<div class="row mb-3"> 
													<label for="idOperacion-field" 
												  	       class="form-label">
													      Operación
													</label>
													<select class="form-control mb-0" 
													        data-choices 
														    data-choices-search-false 
														    id="idOperacion-field">
														<option value="">Operación</option>
													</select> 
											</div> 
											<div class="row"> 
													<label for="idBancoManiobra-field" 
												  	       class="form-label">
													      Banco de Maniobras
													</label>
													<select class="form-control mb-0" 
													        data-choices 
														    data-choices-search-false 
														    id="idBancoManiobra-field">
														<option th:each="selector : ${selectorMdBancoManiobra}"
							                          	   	    th:value="${selector.value}"
																th:text="${selector.text}">
													    </option>
													</select> 
											</div>
											
										</div> 
											
 
										<div class="modal-footer">
											<div class="hstack gap-2 justify-content-end">
												<button type="button" 
														class="btn btn-light"
														data-bs-dismiss="modal">Cerrar</button>
												<button type="submit" class="btn btn-success" id="add-btn"></button> 
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>

						<!-- Modal -->
						<div class="modal fade zoomIn" id="mdEliminarRegistro" tabindex="-1" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" 
											    class="btn-close" 
											    id="deleteRecord-close"
												data-bs-dismiss="modal" 
												aria-label="Close">
										</button>
									</div>
									<div class="modal-body">
										<div class="mt-2 text-center">
											<lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop"
												colors="primary:#f7b84b,secondary:#f06548"
												style="width:100px;height:100px"></lord-icon>
											<div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
												<h4>¿Estas seguro?</h4>
												<p class="text-muted mx-4 mb-0">¿Estas seguro de eliminar este registro?
												</p>
											</div>
										</div>
										<div class="d-flex gap-2 justify-content-center mt-4 mb-2">
											<button type="button" class="btn w-sm btn-light"
												data-bs-dismiss="modal">Cerrar</button>
											<button type="button" class="btn w-sm btn-danger" id="eliminar-registro">Si,
												Eliminar!</button>
										</div>
									</div>
								</div>
							</div>
						</div> 
					</div>
				</div>

			</div> 
		</div> 
	</div>


	<th:block layout:fragment="pagejs">
		<!-- list.js min js -->
		<script src="/assets/libs/list.js/list.min.js"></script>
		<script src="/assets/libs/list.pagination.js/list.pagination.min.js"></script>

		<!-- Maniobra js -->
		<script src="/assets/js/pages/gtn-maniobra.init.js"></script>

		<!-- Sweet Alerts js -->
		<script src="/assets/libs/sweetalert2/sweetalert2.min.js"></script>
				
		<!--Notifications js -->
		<script src="/assets/js/notifications.js"></script>
	</th:block>
</body>

</html>